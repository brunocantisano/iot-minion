<!DOCTYPE HTML>
<html lang="en">
<head>
   <title>Minion ESP32-Upload para Storage</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
   <link href='get-file?name=minion-ico.ico' rel='icon' type='image/x-icon' />
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
   <link href='get-file?name=minion-ico.ico' rel='icon' type='image/x-icon'/>
   <script src="https://code.jquery.com/jquery-3.5.1.min.js" crossorigin="anonymous"></script>
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <meta charset="UTF-8">
   <link href="get-file?name=style.css" rel="stylesheet" type="text/css" media="screen"/>
   <script src="get-file?name=api.js"></script>
</head>
<body>
   <p>
   <h1>Upload de arquivos para o storage interno do ESP32</h1>
   </p>
   <p>Espaço Livre: FREESTORAGE | Espaço Usado: USEDSTORAGE | Total de Armazenamento: TOTALSTORAGE </p>
   <form id="myForm">
      <div class="fileUpload btn btn-primary"> <span>Escolher Arquivo</span>
         <input id="inputFile" name="filename" type="file" class="upload" multiple />
      </div>
      <div class="fileUpload btn btn-primary">
         <a onclick="uploadFile('storage', 'API_MINION_TOKEN')">
            <div class="upload">Upload</div>
         </a>
      </div>
   </form>
   <p>Depois de clicar em upload, levará algum tempo para que o arquivo seja carregado primeiro e depois gravado no
      Storage, não há nenhum indicador de que o upload começou. Por favor, seja paciente.</p>
   <p>Depois de carregada, a página será atualizada e o arquivo recém-carregado aparecerá na lista de arquivos.</p>
   <p>Se um arquivo não aparecer, é porque o arquivo era muito grande ou tinha caracteres incomuns no nome do arquivo
      (como espaços).</p>
   <p>Você pode ver o progresso do upload observando a saída serial.</p>
   <p> FILELIST </p>
   <div class="m-4">
      <div class="toast" id="myToast">
         <div class="toast-header"> <strong class="me-auto"> <img src='get-file?name=minion-ico.ico' alt='minion-ico'
                  type='image/x-icon' width="24" /> Atenção!</strong> <small>IOT Minion </small> <button type="button"
               class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button> </div>
         <div id="message" class="toast-body"></div>
      </div>
   </div>
</body>
</html>
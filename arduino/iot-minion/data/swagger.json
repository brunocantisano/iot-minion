{"swagger":"2.0","info":{"description":"Minion Soap Esp32 using REST api server [minion-server](https://github.com/brunocantisano/iot-minion)","version":"0.0.0","title":"Swagger Minion","termsOfService":"http://swagger.io/terms/","contact":{"email":"bruno.cantisano@gmail.com"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"}},"host":"HOST_MINION","basePath":"/","tags":[{"name":"comando","description":"Comandos","externalDocs":{"description":"Descubra mais sobre a garagem digital","url":"https://garagem.ipiranga.io"}},{"name":"lista","description":"Lista","externalDocs":{"description":"Descubra mais sobre a garagem digital","url":"https://garagem.ipiranga.io"}}],"schemes":["https","http"],"paths":{"/health":{"get":{"tags":["comando"],"summary":"Checagem Health","security":[],"description":"Faz checagem da saúde da aplicação","operationId":"health","produces":["application/xml","application/json"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/metrics":{"get":{"tags":["comando"],"summary":"Métricas do ESP32","security":[],"description":"Faz checagem das métricas do ESP32","operationId":"metrics","produces":["application/xml","application/json"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/ports":{"get":{"tags":["comando"],"summary":"Lista de portas utilizadas","security":[{"basicAuth":[]}],"description":"","operationId":"getPortas","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/audios":{"get":{"tags":["comando"],"summary":"Busca as mídias a serem utilizadas","security":[{"basicAuth":[]}],"description":"","operationId":"getAudios","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/volume":{"put":{"tags":["comando"],"summary":"Regula o volume do áudio","security":[{"basicAuth":[]}],"description":"","operationId":"updateVolume","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Alterado o volume","required":true,"schema":{"$ref":"#/definitions/Volume"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/talk":{"post":{"tags":["comando"],"summary":"Fala através do alto falante","security":[{"basicAuth":[]}],"description":"","operationId":"postTalk","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Mensagem a ser ouvida pelo alto falante","required":true,"schema":{"$ref":"#/definitions/Mensagem"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/ask":{"post":{"tags":["comando"],"summary":"Fala a partir de resposta do chat gpt (open ia)","security":[{"basicAuth":[]}],"description":"","operationId":"postAsk","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Mensagem do chat gpt a ser ouvida pelo alto falante","required":true,"schema":{"$ref":"#/definitions/Mensagem"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/play":{"post":{"tags":["comando"],"summary":"Toca um áudio pelo nome","security":[{"basicAuth":[]}],"description":"","operationId":"postPlay","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Nome do áudio","required":true,"schema":{"$ref":"#/definitions/Midia"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/playRemote":{"post":{"tags":["comando"],"summary":"Toca um áudio pela url","security":[{"basicAuth":[]}],"description":"","operationId":"postPlayRemote","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"URL do audio","required":true,"schema":{"$ref":"#/definitions/RemoteMidia"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/sensors?type=eye":{"get":{"tags":["comando"],"summary":"Busca o estado dos olhos","security":[{"basicAuth":[]}],"description":"","operationId":"getEye","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/sensors?type=hat":{"get":{"tags":["comando"],"summary":"Busca o estado do chapéu","security":[{"basicAuth":[]}],"description":"","operationId":"getHat","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/sensors?type=blink":{"get":{"tags":["comando"],"summary":"Busca a luz piscante do minion","security":[{"basicAuth":[]}],"description":"","operationId":"getBlink","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/sensors?type=shake":{"get":{"tags":["comando"],"summary":"Busca a vibração do minion","security":[{"basicAuth":[]}],"description":"","operationId":"getShake","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/sensor?type=eye":{"put":{"tags":["comando"],"summary":"Acende ou apaga os olhos","security":[{"basicAuth":[]}],"description":"","operationId":"updateEye","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Alterado o comando","required":true,"schema":{"$ref":"#/definitions/Comando"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/sensor?type=hat":{"put":{"tags":["comando"],"summary":"Gira o chapéu ou para","security":[{"basicAuth":[]}],"description":"","operationId":"updateHat","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Alterado o comando","required":true,"schema":{"$ref":"#/definitions/Comando"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/sensor?type=blink":{"put":{"tags":["comando"],"summary":"Pisca ou para de piscar o corpo","security":[{"basicAuth":[]}],"description":"","operationId":"updateBlink","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Alterado o comando","required":true,"schema":{"$ref":"#/definitions/Comando"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/sensor?type=shake":{"put":{"tags":["comando"],"summary":"Treme ou não o minion","security":[{"basicAuth":[]}],"description":"","operationId":"updateShake","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Alterado o comando","required":true,"schema":{"$ref":"#/definitions/Comando"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/uploadStorage":{"post":{"tags":["comando"],"summary":"Faz upload de arquivo no storage do ESP32","security":[{"basicAuth":[]}],"description":"","operationId":"uploadStorage","consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"filename","description":"Upload no storage do ESP32","required":true,"type":"file","schema":{"$ref":"#/definitions/Arquivo"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/uploadSdcard":{"post":{"tags":["comando"],"summary":"Faz upload de arquivo no sdcard","security":[{"basicAuth":[]}],"description":"","operationId":"uploadSdcard","consumes":["multipart/form-data"],"parameters":[{"in":"formData","name":"filename","description":"Upload no sdcard externo","required":true,"type":"file","schema":{"$ref":"#/definitions/Arquivo"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/list":{"post":{"tags":["lista"],"summary":"Insere item na lista","security":[{"basicAuth":[]}],"description":"","operationId":"insertList","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Inserido na lista","required":true,"schema":{"$ref":"#/definitions/Lista"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/lists":{"get":{"tags":["lista"],"summary":"Busca o estado da lista","security":[{"basicAuth":[]}],"description":"","operationId":"getLista","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/list/del":{"delete":{"tags":["lista"],"summary":"Apaga item da lista","security":[{"basicAuth":[]}],"description":"","operationId":"deleteItemFromList","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Apagado item da lista","required":true,"schema":{"$ref":"#/definitions/Lista"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"400":{"description":"Comando inválido fornecido"},"401":{"description":"Não autenticado"}}}},"/deleteFile?type=storage":{"delete":{"tags":["comando"],"summary":"Apaga arquivo do storage","security":[{"basicAuth":[]}],"description":"","operationId":"deleteFileStorage","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Apagar arquivo do storage do ESP32","required":true,"schema":{"$ref":"#/definitions/Midia"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/deleteFile?type=sdcard":{"delete":{"tags":["comando"],"summary":"Apaga arquivo do sdcard","security":[{"basicAuth":[]}],"description":"","operationId":"deleteFileSdcard","produces":["application/xml","application/json"],"parameters":[{"in":"body","name":"body","description":"Apagar arquivo do sdcard","required":true,"schema":{"$ref":"#/definitions/Midia"}}],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/climate?type=celsius":{"get":{"tags":["comando"],"summary":"Busca a temperatura em celsius","security":[{"basicAuth":[]}],"description":"","operationId":"celsius","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/climate?type=fahrenheit":{"get":{"tags":["comando"],"summary":"Busca a temperatura em fahrenheit","security":[{"basicAuth":[]}],"description":"","operationId":"fahrenheit","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}},"/climate?type=humidity":{"get":{"tags":["comando"],"summary":"Busca a umidade do ar","security":[{"basicAuth":[]}],"description":"","operationId":"umidade","produces":["application/xml","application/json"],"parameters":[],"responses":{"200":{"description":"Comando executado com sucesso"},"204":{"description":"Não foi possível encontrar as informações"},"401":{"description":"Não autenticado"}}}}},"securityDefinitions":{"basicAuth":{"type":"basic"}},"definitions":{"Comando":{"type":"object","properties":{"status":{"type":"integer","format":"int64","description":"1-inicia, 0-para"}},"xml":{"name":"Comando"}},"Lista":{"type":"object","properties":{"name":{"type":"string","description":"Nome da aplicação"},"language":{"type":"string","description":"Nome da linguagem de programação"},"description":{"type":"string","description":"Descrição de execução"}},"xml":{"name":"Lista"}},"Arquivo":{"type":"object","properties":{"filename":{"type":"string","format":"binary","description":"Nome do arquivo"}},"xml":{"name":"Arquivo"}},"Mensagem":{"type":"object","properties":{"mensagem":{"type":"string","description":"Mensagem a ser ouvida pelo alto falante"}},"xml":{"name":"Mensagem"}},"Midia":{"type":"object","properties":{"midia":{"type":"string","description":"Nome do áudio a ser tocado"}},"xml":{"name":"Midia"}},"RemoteMidia":{"type":"object","properties":{"url":{"type":"string","description":"URL do audio a ser tocado. http://mp3.ffh.de/radioffh/hqlivestream.mp3 http://stream.friskyradio.com:9000/frisky_mp3_h https://tunein.com/radio/Rdio-Antena-1-Rio-1037-s18656 https://tunein.com/radio/Radio-Cidade-s220658 https://tunein.com/radio/Rdio-Mar-Aberto-987-s158563 https://tunein.com/radio/Rdio-Transamrica-Rio-1013-s144939"}},"xml":{"name":"RemoteMidia"}},"Volume":{"type":"object","properties":{"intensidade":{"type":"integer","format":"int64","description":"Volume do áudio a ser tocado. Padrão é 70"}},"xml":{"name":"Volume"}}},"externalDocs":{"description":"Descubra mais","url":"https://garagem.ipiranga.io"}}